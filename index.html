<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Centro de Salud Mental</title>
  <link rel="icon" type="image/png" href="Recursos/icon mind.png" />
  <link rel="stylesheet" href="stylo.css" />
  <style>
    /* --- Estilos para pantalla bienvenida --- */
    #welcome-screen {
      background-color: #2c754e;
      color: white;
      height: 100vh;
      width: 100vw;
      position: fixed;
      top: 0; left: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }
    #welcome-screen h1 {
      font-size: 4rem;
      margin: 0 0 0.3em;
      font-weight: 700;
      letter-spacing: 2px;
    }
    #welcome-screen p {
      margin: 0 0 1.2em;
      font-size: 1.3rem;
      font-weight: 500;
      letter-spacing: 1px;
    }
    .emotion-bar {
      display: flex;
      gap: 20px;
      margin-bottom: 1.5em;
      justify-content: center;
      flex-wrap: wrap;
    }
    .color-box {
      cursor: pointer;
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 3px solid transparent;
      user-select: none;
    }
    .color-box:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 20px rgba(0,0,0,0.4);
    }
    .color-box.selected {
      border-color: #f5f5f5;
      box-shadow: 0 0 15px 3px #fff;
      transform: scale(1.15);
    }
    #message {
      min-height: 2.5em;
      font-size: 1.3rem;
      font-style: italic;
      margin-bottom: 2em;
      max-width: 350px;
      line-height: 1.3;
      user-select: none;
    }
    #continue-btn {
      padding: 0.8em 2.2em;
      font-size: 1.2rem;
      border: none;
      border-radius: 10px;
      background-color: #1f4d35;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, opacity 0.3s ease;
      user-select: none;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    #continue-btn:disabled {
      opacity: 0.5;
      cursor: default;
      background-color: #145227;
      box-shadow: none;
    }
  </style>
</head>
<body>

  <!-- Pantalla de bienvenida -->
  <div id="welcome-screen">
    <h1>Bienvenido</h1>
    <p>¿Cómo te sientes hoy?</p>

    <div class="emotion-bar">
      <div class="color-box" data-emotion="alegre" title="Alegre" style="background-color: #f7b733;">😊</div>
      <div class="color-box" data-emotion="triste" title="Triste" style="background-color: #4a90e2;">😢</div>
      <div class="color-box" data-emotion="molesto" title="Molesto" style="background-color: #d9534f;">😠</div>
      <div class="color-box" data-emotion="ansioso" title="Ansioso" style="background-color: #ff914d;">😰</div>
      <div class="color-box" data-emotion="perdido" title="Perdido" style="background-color: #7d75cb;">😕</div>
    </div>

    <p id="message"></p>

    <button id="continue-btn" disabled>Continuar</button>
  </div>

  <!-- Sidebar y contenido original -->
  <div class="sidebar">
    <h1 class="panel-title">CENTRO DE SALUD MENTAL</h1>

    <div class="butterfly">
      <img src="Recursos/left-wing.png" class="wing left" />
      <img src="Recursos/body.png" class="body" />
      <img src="Recursos/right-wing.png" class="wing right" />
    </div>

    <div class="fly-message" id="flyMessage"><i>¡Comienza tu viaje ahora!</i></div>

    <h1 class="name">Luz Tarazona</h1>
    <p class="subtitle">COACH DE VIDA</p>

    <img src="Recursos/foto de perfil.jpg" class="sidebar-image" />

    <nav class="nav-links">
      <a href="#conoceme">Conóceme</a>
      <a href="#servicios">Servicios</a>
      <a href="#taller">Taller</a>
      <a href="#voluntariados">Voluntariados</a>
      <a href="#contacto">Comunícate conmigo</a>
    </nav>
  </div>

<!-- Sección: Conóceme -->
<section id="conoceme">
  <h2>Conóceme</h2>
  <img src="Recursos/Material/Conoceme.png">
</section>

<!-- Sección: Servicios -->
<section id="servicios">
  <h2>Servicios</h2>
  <img src="Recursos/Material/Servicios 1.jpg">
  <img src="Recursos/Material/Servicios 2.jpg">
</section>

<!-- Sección: Taller -->
<section id="taller">
  <h2>Taller</h2>
  <img src="Recursos/Material/Talleres.jpg" alt="Taller">
</section>

<!-- Sección: Voluntariados -->
<section id="voluntariados">
  <h2>Voluntariados</h2>
  <img src="Recursos/Material/Voluntariado.jpg" alt="Voluntariado">
</section>

<!-- Sección: Comunícate conmigo -->
<section id="contacto">
  <h2>Comunícate conmigo</h2>
      <div class="container">
        <form action="#" method="post" class="formulario">
            <h2><b>Cuéntame de ti</b></h2>

            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required placeholder="Nombre">

            <label for="apellido">Apellido:</label>
            <input type="text" id="apellido" name="apellido" required placeholder="Apellido">

            <label for="contacto">Número de contacto:</label>
            <input type="tel" id="contacto" name="contacto" required placeholder="Número de contacto" pattern="[0-9]{10}">

            <label for="correo">Correo electrónico:</label>
            <input type="email" id="correo" name="correo" required placeholder="Correo electrónico">

            <label for="ciudad">Ciudad:</label>
            <select id="ciudad" name="ciudad" onchange="mostrarOtraCiudad(this)" required>
                <option value="">Seleccione una ciudad</option>
                <option value="Bogotá">Bogotá</option>
                <option value="Medellín">Medellín</option>
                <option value="Cali">Cali</option>
                <option value="Barranquilla">Barranquilla</option>
                <option value="Cartagena">Cartagena</option>
                <option value="Bucaramanga">Bucaramanga</option>
                <option value="Cúcuta">Cúcuta</option>
                <option value="Pereira">Pereira</option>
                <option value="Manizales">Manizales</option>
                <option value="Santa Marta">Santa Marta</option>
                <option value="Otro">Otro</option>
            </select>

            <div id="otraCiudadBox">
                <label for="otraCiudad">Escriba su ciudad:</label>
                <input type="text" id="otraCiudad" name="otraCiudad" placeholder="Ciudad">
            </div>

            <!-- GRUPOS PRIORITARIOS -->
            <fieldset class="grupo-prioritario">
                <legend>¿Formas parte de alguno de estos grupos prioritarios?</legend>

                <div>
                    <input type="checkbox" id="mujer" name="grupo[]" value="Soy mujer">
                    <label for="mujer">Soy mujer</label>
                </div>

                <div>
                    <input type="checkbox" id="lgtb" name="grupo[]" value="Soy parte de la comunidad LGTB+">
                    <label for="lgtb">Soy parte de la comunidad LGTB+</label>
                </div>
            </fieldset>

            <label for="comentarios">¿Cómo te puedo ayudar?</label>
            <textarea id="comentarios" name="comentarios" rows="4" placeholder="Escribe aquí tus dudas, comentarios o solicitudes..."></textarea>

            <input type="submit" value="Enviar registro">
            <input type="reset" value="Limpiar formulario" class="btn-reset">
        </form>
    </div>
</section>

<script>
  // Código mariposa y mensaje volador
  const butterfly = document.querySelector('.butterfly');
  const flyMessage = document.getElementById('flyMessage');

  butterfly.addEventListener('click', () => {
    if (butterfly.classList.contains('flying')) return;

    const isHidden = window.getComputedStyle(butterfly).opacity === '0';

    if (isHidden) {
      butterfly.style.opacity = '1';
      flyMessage.classList.remove('visible');
    }

    butterfly.classList.add('flying');

    setTimeout(() => {
      flyMessage.classList.add('visible');
    }, 1200);

    setTimeout(() => {
      butterfly.style.opacity = '0';
      butterfly.classList.remove('flying');
    }, 2000);
  });

  flyMessage.addEventListener('click', () => {
    flyMessage.classList.remove('visible');
    butterfly.style.opacity = '1';
    butterfly.classList.remove('flying');
  });


function mostrarOtraCiudad(selectElement) {
  const otraCiudadBox = document.getElementById("otraCiudadBox");

  if (selectElement.value === "Otro") {
    otraCiudadBox.style.display = "block";
    document.getElementById("otraCiudad").setAttribute("required", "required");
  } else {
    otraCiudadBox.style.display = "none";
    document.getElementById("otraCiudad").removeAttribute("required");
  }
}

  // Código barra emociones con botón continuar
  document.addEventListener('DOMContentLoaded', () => {
    const items = document.querySelectorAll('.color-box');
    const message = document.getElementById('message');
    const continueBtn = document.getElementById('continue-btn');

    const emotions = {
      alegre: "¡Qué bueno verte alegre! Sigue así.",
      triste: "Está bien estar triste, aquí estoy para ti.",
      molesto: "Respira profundo, calma tu mente.",
      ansioso: "Toma un momento para relajarte y ordenar tus ideas.",
      perdido: "No estás solo, encontraremos el camino juntos."
    };

    let selectedEmotion = null;

    continueBtn.disabled = true;

    items.forEach(item => {
      item.addEventListener('click', () => {
        items.forEach(i => i.classList.remove('selected'));
        item.classList.add('selected');

        selectedEmotion = item.getAttribute('data-emotion');
        message.textContent = emotions[selectedEmotion];

        continueBtn.disabled = false;
      });
    });

    continueBtn.addEventListener('click', () => {
      if (!selectedEmotion) return;

      // Ocultar la pantalla de bienvenida sin alerta
      document.getElementById('welcome-screen').style.display = 'none';
    });
  });

   // Scroll suave para los enlaces del nav
  document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const targetId = link.getAttribute('href').substring(1);
      const targetSection = document.getElementById(targetId);

      targetSection.scrollIntoView({ behavior: 'smooth' });
    });
  });

  // Resaltar el botón activo según la sección visible en scroll
  const sections = document.querySelectorAll('section');
  const navLinks = document.querySelectorAll('.nav-links a');

  window.addEventListener('scroll', () => {
    let current = '';
    const scrollY = window.pageYOffset;

    sections.forEach(section => {
      const sectionTop = section.offsetTop - 100; // margen para cabecera fija
      const sectionHeight = section.offsetHeight;

      if(scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
        current = section.getAttribute('id');
      }
    });

    navLinks.forEach(link => {
      link.classList.remove('active');
      if(link.getAttribute('href') === '#' + current) {
        link.classList.add('active');
      }
    });
  });
</script>

</body>
</html>
